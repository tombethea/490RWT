{"version":3,"file":"src_pages_Post_NewPostPage_NewPostPage_js.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA;;;;AALA;AACA;AACA;AACA;AAEA;;AAQA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrCA;;AASA;AACA;AACA;AACA;AACA;;AAEA;AAAA;;AACA;AAAA;;AACA;AACA;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAQA;AACA;AACA;AAHA;AAQA;AACA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAOA;AAAA;AAAA;AAGA;AACA;AACA;AAHA;AAQA;AACA;AACA;AACA;AACA;AAAA;AAAA;AALA;AAOA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAOA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxEA;;AAEA;AACA;AACA;;AAEA","sources":["webpack://web/./src/components/Post/NewPost/NewPost.js","webpack://web/./src/components/Post/PostForm/PostForm.js","webpack://web/./src/pages/Post/NewPostPage/NewPostPage.js"],"sourcesContent":["import { useMutation } from '@redwoodjs/web'\nimport { toast } from '@redwoodjs/web/toast'\nimport { navigate, routes } from '@redwoodjs/router'\nimport PostForm from 'src/components/Post/PostForm'\n\nconst CREATE_POST_MUTATION = gql`\n  mutation CreatePostMutation($input: CreatePostInput!) {\n    createPost(input: $input) {\n      id\n    }\n  }\n`\n\nconst NewPost = () => {\n  const [createPost, { loading, error }] = useMutation(CREATE_POST_MUTATION, {\n    onCompleted: () => {\n      toast.success('Post created')\n      navigate(routes.posts())\n    },\n  })\n\n  const onSave = (input) => {\n    createPost({ variables: { input } })\n  }\n\n  return (\n    <div className=\"rw-segment\">\n      <header className=\"rw-segment-header\">\n        <h2 className=\"rw-heading rw-heading-secondary\">New Post</h2>\n      </header>\n      <div className=\"rw-segment-main\">\n        <PostForm onSave={onSave} loading={loading} error={error} />\n      </div>\n    </div>\n  )\n}\n\nexport default NewPost\n","import {\n  Form,\n  FormError,\n  FieldError,\n  Label,\n  TextField,\n  Submit,\n} from '@redwoodjs/forms'\n\nconst formatDatetime = (value) => {\n  if (value) {\n    return value.replace(/:\\d{2}\\.\\d{3}\\w/, '')\n  }\n}\n\nconst PostForm = (props) => {\n  const onSubmit = (data) => {\n    props.onSave(data, props?.post?.id)\n  }\n\n  return (\n    <div className=\"rw-form-wrapper\">\n      <Form onSubmit={onSubmit} error={props.error}>\n        <FormError\n          error={props.error}\n          wrapperClassName=\"rw-form-error-wrapper\"\n          titleClassName=\"rw-form-error-title\"\n          listClassName=\"rw-form-error-list\"\n        />\n\n        <Label\n          name=\"title\"\n          className=\"rw-label\"\n          errorClassName=\"rw-label rw-label-error\"\n        >\n          Title\n        </Label>\n        <TextField\n          name=\"title\"\n          defaultValue={props.post?.title}\n          className=\"rw-input\"\n          errorClassName=\"rw-input rw-input-error\"\n          validation={{ required: true }}\n        />\n        <FieldError name=\"title\" className=\"rw-field-error\" />\n\n        <Label\n          name=\"body\"\n          className=\"rw-label\"\n          errorClassName=\"rw-label rw-label-error\"\n        >\n          Body\n        </Label>\n        <TextField\n          name=\"body\"\n          defaultValue={props.post?.body}\n          className=\"rw-input\"\n          errorClassName=\"rw-input rw-input-error\"\n          validation={{ required: true }}\n        />\n        <FieldError name=\"body\" className=\"rw-field-error\" />\n\n        <div className=\"rw-button-group\">\n          <Submit disabled={props.loading} className=\"rw-button rw-button-blue\">\n            Save\n          </Submit>\n        </div>\n      </Form>\n    </div>\n  )\n}\n\nexport default PostForm\n","import NewPost from 'src/components/Post/NewPost'\n\nconst NewPostPage = () => {\n  return <NewPost />\n}\n\nexport default NewPostPage\n"],"names":[],"sourceRoot":""}